<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Encriptador de Texto</title>
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="/encrypt.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
<div class="container">
    <!-- Título principal -->
    <div class="titulo-principal">
        <h1>Encriptador de Texto</h1>
    </div>

    <!-- Sección de Encriptar -->
    <div class="seccion-encriptar">
        <div class="titulo-seccion">
            <h2>Encriptar</h2>
        </div>

        <!-- Botones de cifrado -->
        <div class="botones-accion">
            <button id="btn-personalizado-encriptar" class="btn-encriptar">Encriptar Personalizado</button>
            <button id="btn-aes-encriptar" class="btn-encriptar">Encriptar AES</button>
            <button id="btn-des-encriptar" class="btn-encriptar">Encriptar DES</button>
        </div>

        <!-- Cuadro de texto y resultado para encriptar -->
        <textarea id="textoEncriptar" placeholder="Texto a encriptar"></textarea>
        <div class="terminos">
            <p>Solo letras minúsculas y sin acentos</p>
        </div>
        <div class="resultado">
            <p id="resultado-encriptar">Resultado de encriptación</p>
        </div>
        <div class="botones-accion">
            <button onclick="copiarEncriptado()" class="btn-copiar">Copiar</button>
        </div>
    </div>

    <!-- Sección de Desencriptar -->
    <div class="seccion-desencriptar">
        <div class="titulo-seccion">
            <h2>Desencriptar</h2>
        </div>

        <!-- Botones de descifrado -->
        <div class="botones-accion">
            <button id="btn-personalizado-desencriptar" class="btn-desencriptar">Desencriptar Personalizado</button>
            <button id="btn-aes-desencriptar" class="btn-desencriptar">Desencriptar AES</button>
            <button id="btn-des-desencriptar" class="btn-desencriptar">Desencriptar DES</button>
        </div>

        <!-- Cuadro de texto y resultado para desencriptar -->
        <textarea id="textoDesencriptar" placeholder="Texto a desencriptar"></textarea>
        <div class="resultado">
            <p id="resultado-desencriptar">Resultado de desencriptación</p>
        </div>
        <div class="botones-accion">
            <button onclick="copiarDesencriptado()" class="btn-copiar">Copiar</button>
        </div>
    </div>
</div>
</body>
</html>


<script>
        // Lógica personalizada para encriptar y desencriptar
    function encriptar() {
        let texto = document.getElementById("textoEncriptar").value;

        if (texto.trim() === "") {
            document.getElementById("resultado-encriptar").textContent = "Ingresa texto para encriptar";
            return;
        }

        if (!/^[a-z\s]+$/.test(texto)) {
            document.getElementById("resultado-encriptar").textContent = "Solo se permiten letras minúsculas sin acentos";
            return;
        }

        let textoCifrado = texto
                .replace(/e/g, "enter")
                .replace(/i/g, "imes")
                .replace(/a/g, "ai")
                .replace(/o/g, "ober")
                .replace(/u/g, "ufat");

        document.getElementById("resultado-encriptar").textContent = textoCifrado;
    }

    function desencriptar() {
        let texto = document.getElementById("textoDesencriptar").value;

        if (texto.trim() === "") {
            document.getElementById("resultado-desencriptar").textContent = "Ingresa texto para desencriptar";
            return;
        }

        let textoDescifrado = texto
                .replace(/enter/g, "e")
                .replace(/imes/g, "i")
                .replace(/ai/g, "a")
                .replace(/ober/g, "o")
                .replace(/ufat/g, "u");

        document.getElementById("resultado-desencriptar").textContent = textoDescifrado;
    }

    // Lógica para encriptar y desencriptar con AES
    function encriptarAES(texto, clave) {
        const claveUtf8 = CryptoJS.enc.Utf8.parse(clave);
        const textoCifrado = CryptoJS.AES.encrypt(texto, claveUtf8, {
            mode: CryptoJS.mode.ECB,
            padding: CryptoJS.pad.Pkcs7,
        }).toString();
        return textoCifrado;
    }

    function desencriptarAES(textoCifrado, clave) {
        const claveUtf8 = CryptoJS.enc.Utf8.parse(clave);
        const textoDescifrado = CryptoJS.AES.decrypt(textoCifrado, claveUtf8, {
            mode: CryptoJS.mode.ECB,
            padding: CryptoJS.pad.Pkcs7,
        }).toString(CryptoJS.enc.Utf8);
        return textoDescifrado;
    }

    // Lógica para encriptar y desencriptar con DES
    function encriptarDES(texto, clave) {
        const claveUtf8 = CryptoJS.enc.Utf8.parse(clave);
        const textoCifrado = CryptoJS.DES.encrypt(texto, claveUtf8, {
            mode: CryptoJS.mode.ECB,
            padding: CryptoJS.pad.Pkcs7,
        }).toString();
        return textoCifrado;
    }

    function desencriptarDES(textoCifrado, clave) {
        const claveUtf8 = CryptoJS.enc.Utf8.parse(clave);
        const textoDescifrado = CryptoJS.DES.decrypt(textoCifrado, claveUtf8, {
            mode: CryptoJS.mode.ECB,
            padding: CryptoJS.pad.Pkcs7,
        }).toString(CryptoJS.enc.Utf8);
        return textoDescifrado;
    }

    // Manejo de eventos para botones
    document.getElementById("btn-personalizado-encriptar").addEventListener("click", encriptar);
    document.getElementById("btn-personalizado-desencriptar").addEventListener("click", desencriptar);

    document.getElementById("btn-aes-encriptar").addEventListener("click", () => {
        const texto = document.getElementById("textoEncriptar").value;
        const clave = prompt("Introduce la clave para AES:");
        if (texto.trim() && clave.trim()) {
            const resultado = encriptarAES(texto, clave);
            document.getElementById("resultado-encriptar").textContent = resultado;
        } else {
            alert("Texto y clave no pueden estar vacíos.");
        }
    });

    document.getElementById("btn-aes-desencriptar").addEventListener("click", () => {
        const textoCifrado = document.getElementById("textoDesencriptar").value;
        const clave = prompt("Introduce la clave para AES:");
        if (textoCifrado.trim() && clave.trim()) {
            const resultado = desencriptarAES(textoCifrado, clave);
            document.getElementById("resultado-desencriptar").textContent = resultado;
        } else {
            alert("Texto y clave no pueden estar vacíos.");
        }
    });

    document.getElementById("btn-des-encriptar").addEventListener("click", () => {
        const texto = document.getElementById("textoEncriptar").value;
        const clave = prompt("Introduce la clave para DES:");
        if (texto.trim() && clave.trim()) {
            const resultado = encriptarDES(texto, clave);
            document.getElementById("resultado-encriptar").textContent = resultado;
        } else {
            alert("Texto y clave no pueden estar vacíos.");
        }
    });

    document.getElementById("btn-des-desencriptar").addEventListener("click", () => {
        const textoCifrado = document.getElementById("textoDesencriptar").value;
        const clave = prompt("Introduce la clave para DES:");
        if (textoCifrado.trim() && clave.trim()) {
            const resultado = desencriptarDES(textoCifrado, clave);
            document.getElementById("resultado-desencriptar").textContent = resultado;
        } else {
            alert("Texto y clave no pueden estar vacíos.");
        }
    });
</script>
</body>
</html>