<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Encriptador de Texto</title>
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="/encrypt.css">
</head>
<body>
<div class="container">
    <div class="titulo-principal">
        <h1>Encriptador de Texto</h1>
    </div>
    <div class="seccion-encriptar">
        <div class="titulo-seccion">
            <h2>Encriptar</h2>
        </div>
        <div class="contenido-encriptar">
                <textarea
                        id="textoEncriptar"
                        placeholder="Texto a encriptar"
                ></textarea>
            <div class="terminos">
                <p>Solo letras minúsculas y sin acentos</p>
            </div>
            <div class="botones-accion">
                <button onclick="encriptar()" class="btn-encriptar">
                    Encriptar
                </button>
            </div>
            <div class="resultado">
                <p id="resultado-encriptar">Resultado de encriptación</p>
            </div>
            <div class="botones-accion">
                <button onclick="copiarEncriptado()" class="btn-copiar">
                    Copiar
                </button>
            </div>
        </div>
    </div>

    <div class="seccion-desencriptar">
        <div class="titulo-seccion">
            <h2>Desencriptar</h2>
        </div>
        <div class="contenido-desencriptar">
                <textarea
                        id="textoDesencriptar"
                        placeholder="Texto a desencriptar"
                ></textarea>
            <div class="terminos">
                <p>Solo letras minúsculas y sin acentos</p>
            </div>
            <div class="botones-accion">
                <button onclick="desencriptar()" class="btn-desencriptar">
                    Desencriptar
                </button>
            </div>
            <div class="resultado">
                <p id="resultado-desencriptar">Resultado de desencriptación</p>
            </div>
            <div class="botones-accion">
                <button onclick="copiarDesencriptado()" class="btn-copiar">
                    Copiar
                </button>
            </div>
        </div>
    </div>
</div>
<script>
    function encriptar() {
        let texto = document.getElementById("textoEncriptar").value;

        // Validar que el texto no esté vacío
        if (texto.trim() === "") {
            document.getElementById("resultado-encriptar").textContent = "Ingresa texto para encriptar";
            return;
        }

        // Validar que solo contenga letras minúsculas sin acentos
        if (!/^[a-z\s]+$/.test(texto)) {
            document.getElementById("resultado-encriptar").textContent = "Solo se permiten letras minúsculas sin acentos";
            return;
        }

        // Método de encriptación
        let textoCifrado = texto
                .replace(/e/g, "enter")
                .replace(/i/g, "imes")
                .replace(/a/g, "ai")
                .replace(/o/g, "ober")
                .replace(/u/g, "ufat");

        // Mostrar resultado
        document.getElementById("resultado-encriptar").textContent = textoCifrado;
    }

    function desencriptar() {
        let texto = document.getElementById("textoDesencriptar").value;

        // Validar que el texto no esté vacío
        if (texto.trim() === "") {
            document.getElementById("resultado-desencriptar").textContent = "Ingresa texto para desencriptar";
            return;
        }

        // Método de desencriptación
        let textoDescifrado = texto
                .replace(/enter/g, "e")
                .replace(/imes/g, "i")
                .replace(/ai/g, "a")
                .replace(/ober/g, "o")
                .replace(/ufat/g, "u");

        // Mostrar resultado
        document.getElementById("resultado-desencriptar").textContent = textoDescifrado;
    }

    // Función para copiar al portapapeles
    function copiarEncriptado() {
        let texto = document.getElementById("resultado-encriptar").textContent;

        // Evitar copiar el mensaje por defecto
        if (texto !== "Resultado de encriptación" && texto !== "Ingresa texto para encriptar") {
            navigator.clipboard.writeText(texto).then(() => {
                alert("Texto copiado al portapapeles");
            }).catch(err => {
                console.error('Error al copiar el texto: ', err);
            });
        }
    }

    function copiarDesencriptado() {
        let texto = document.getElementById("resultado-desencriptar").textContent;

        // Evitar copiar el mensaje por defecto
        if (texto !== "Resultado de desencriptación" && texto !== "Ingresa texto para desencriptar") {
            navigator.clipboard.writeText(texto).then(() => {
                alert("Texto copiado al portapapeles");
            }).catch(err => {
                console.error('Error al copiar el texto: ', err);
            });
        }
    }
</script>
</body>
</html>